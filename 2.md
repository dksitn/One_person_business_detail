# ğŸ“˜ æ¨¡çµ„åŒ–å‰µä½œç³»çµ±æ“ä½œæ‰‹å†Š 2.0  
> **å°æ‡‰æ¶æ§‹ï¼šå€‹äººå°å‘å·¥ç¨‹ 2.0**  
> **é©ç”¨å°è±¡ï¼š** å€‹äººé–‹ç™¼è€…ã€AI å¯¦é©—å‰µä½œè€…  
> **ç›®çš„ï¼š** å°‡ã€Œæ¨¡çµ„åŒ–å‰µä½œç³»çµ±æ–¹æ³•è«–ã€è½‰åŒ–ç‚ºå…·é«”é–‹ç™¼èˆ‡éƒ¨ç½²æ­¥é©Ÿ  

---

## ğŸ§­ ä¸€ã€ç³»çµ±æ“ä½œç¸½è¦½

æœ¬æ“ä½œæ‰‹å†Šå°æ‡‰çš„è³‡æ–™çµæ§‹å¦‚ä¸‹ï¼š

<pre>
ğŸ“ my-ai-system/
 â”œâ”€ projects/      ğŸ§© å°ˆæ¡ˆå±¤ï¼ˆæ¯å€‹ä¸»é¡Œå„è‡ªç¨ç«‹ï¼‰
 â”œâ”€ core/          ğŸ§  å…±ç”¨é‚è¼¯å±¤ï¼ˆåŠŸèƒ½æ¨¡çµ„ï¼‰
 â”œâ”€ shared/        ğŸ§± å…±ç”¨ç´ æå±¤ï¼ˆPrompt / å·¥å…· / è¨­å®šï¼‰
 â”œâ”€ dev/           âš™ï¸ é–‹ç™¼èˆ‡å¯¦é©—å±¤ï¼ˆColab / VSCodeï¼‰
 â”œâ”€ app/           ğŸš€ é‹è¡Œå±¤ï¼ˆé›²ç«¯éƒ¨ç½²ç‰ˆæœ¬ï¼‰
 â”œâ”€ registry/      ğŸ§¾ ç™»éŒ„å±¤ï¼ˆç‰ˆæœ¬èˆ‡ä¾è³´ï¼‰
 â””â”€ docs/          ğŸ“˜ æ–‡ä»¶å±¤ï¼ˆæ–¹æ³•è«–èˆ‡ç­†è¨˜ï¼‰
</pre>

æ•´é«”æ“ä½œæµç¨‹ï¼š
> æ§‹æ€ Idea â†’ å»ºç«‹å°ˆæ¡ˆ â†’ å¯¦ä½œèˆ‡æ¸¬è©¦ â†’ æ¨¡çµ„åŒ– â†’ çµ„è£æˆå“ â†’ éƒ¨ç½² â†’ è¨˜éŒ„  

---

## ğŸ§© äºŒã€å»ºç«‹æ–°å°ˆæ¡ˆ

### ğŸ¯ ç›®çš„ï¼š
å»ºç«‹ä¸€å€‹èƒ½åŒæ™‚æ”¾ç¨‹å¼ã€Promptã€è³‡æ–™ã€çµæœçš„ç¨ç«‹ç’°å¢ƒã€‚

### ğŸªœ æ“ä½œæ­¥é©Ÿï¼š

1. åœ¨ `projects/` ä¸‹å»ºç«‹å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œä¾‹å¦‚ï¼š
   ```bash
   mkdir projects/ai_report_generator
   cd projects/ai_report_generator
2. å»ºç«‹åŸºæœ¬çµæ§‹ï¼š

   ```bash
   mkdir scripts prompts data results
   ```

3. å»ºç«‹åˆå§‹æª”æ¡ˆï¼š

   ```bash
   touch scripts/main.py prompts/base_prompt.md data/sample_input.json
   ```

4. åœ¨ `README.md` ä¸­ç°¡è¦èªªæ˜å°ˆæ¡ˆç›®æ¨™ï¼š

   ```markdown
   # AI Report Generator
   - åŠŸèƒ½ï¼šå¾è³‡æ–™è‡ªå‹•ç”Ÿæˆå ±å‘Š
   - ä¸»è¦æ¨¡çµ„ï¼šreport_builder
   - ä¸»è¦ Promptï¼šwrite_report.md
   ```

âœ… **å®Œæˆå¾Œçš„çµæ§‹ï¼š**

```
projects/ai_report_generator/
 â”œâ”€ scripts/main.py
 â”œâ”€ prompts/base_prompt.md
 â”œâ”€ data/sample_input.json
 â”œâ”€ results/
 â””â”€ README.md
```

---

## ğŸ§  ä¸‰ã€é–‹ç™¼èˆ‡æ¨¡çµ„åŒ–ï¼ˆcore/ï¼‰

### ğŸ¯ ç›®çš„ï¼š

å°‡ã€Œå¯é‡è¤‡ä½¿ç”¨ã€çš„åŠŸèƒ½æŠ½é›¢æˆæ¨¡çµ„ï¼Œé›†ä¸­ç®¡ç†ã€‚

### ğŸªœ æ“ä½œæ­¥é©Ÿï¼š

1. ç¢ºå®šæŸæ®µé‚è¼¯ï¼ˆå¦‚æ ¼å¼åŒ–ã€åˆ†æï¼‰æœƒè¢«å¤šå€‹å°ˆæ¡ˆä½¿ç”¨ã€‚

2. å»ºç«‹æ–°æ¨¡çµ„ç›®éŒ„ï¼š

   ```bash
   mkdir -p core/bundles/report_builder
   ```

3. å»ºç«‹åŠŸèƒ½æª”æ¡ˆï¼š

   ```bash
   touch core/bundles/report_builder/structure_analysis.py
   ```

4. æ’°å¯«ç¯„ä¾‹æ¨¡çµ„ï¼š

   ```python
   # core/bundles/report_builder/structure_analysis.py
   def analyze_structure(data):
       """è§£æè³‡æ–™çµæ§‹"""
       return {"sections": len(data.keys()), "fields": list(data.keys())}
   ```

5. åœ¨å°ˆæ¡ˆä¸­å¼•ç”¨ï¼š

   ```python
   from core.bundles.report_builder.structure_analysis import analyze_structure
   ```

6. æ¸¬è©¦æ¨¡çµ„ï¼š

   ```bash
   python -m unittest core/bundles/report_builder/tests/test_structure_analysis.py
   ```

---

## ğŸ’¬ å››ã€Prompt æ¨¡çµ„ç®¡ç†ï¼ˆshared/ï¼‰

### ğŸ¯ ç›®çš„ï¼š

è®“æç¤ºè©å¯ä»¥åƒç¨‹å¼ä¸€æ¨£è¢«ç‰ˆæœ¬æ§åˆ¶ã€å…±ç”¨èˆ‡çµ„è£ã€‚

### ğŸªœ æ“ä½œæ­¥é©Ÿï¼š

1. åœ¨ `shared/base_prompts/` å»ºç«‹å…±ç”¨ Promptï¼š

   ```bash
   touch shared/base_prompts/format_json.md
   ```

2. å¯«å…¥å…§å®¹ï¼š

   ```markdown
   ## JSON Format Policy
   - Always return valid JSON.
   - Use double quotes.
   - Include all required fields.
   ```

3. åœ¨å°ˆæ¡ˆ Prompt ä¸­å¼•ç”¨å…±ç”¨æ¨¡æ¿ï¼š

   ```markdown
   {% include "../shared/base_prompts/format_json.md" %}
   ```

4. ä½¿ç”¨ `dev/tools/build_prompt.py` çµ„è£ï¼š

   ```bash
   python dev/tools/build_prompt.py --project ai_report_generator
   ```

âœ… çµ„è£çµæœï¼š

```
app/prompts/ai_report_generator_final.md
```

---

## âš™ï¸ äº”ã€è‡ªå‹•çµ„è£ï¼ˆdev/toolsï¼‰

### ğŸ¯ ç›®çš„ï¼š

å°‡å°ˆæ¡ˆç¨‹å¼èˆ‡ Prompt çµ±ä¸€ç·¨è­¯æˆã€Œå¯éƒ¨ç½²æˆå“ã€ã€‚

### ğŸªœ æ“ä½œæ­¥é©Ÿï¼š

1. æº–å‚™è‡ªå‹•åŒ–è…³æœ¬ï¼ˆç¯„ä¾‹ `build_code.py`ï¼‰ï¼š

   ```python
   import shutil, os

   def build_app(project):
       src = f"projects/{project}/scripts"
       dst = f"app/code/{project}"
       os.makedirs(dst, exist_ok=True)
       for f in os.listdir(src):
           if f.endswith(".py"):
               shutil.copy(os.path.join(src, f), dst)
       print(f"âœ… {project} build complete")

   if __name__ == "__main__":
       build_app("ai_report_generator")
   ```

2. åŸ·è¡Œçµ„è£ï¼š

   ```bash
   python dev/tools/build_code.py
   ```

3. é©—è­‰è¼¸å‡ºï¼š

   ```
   app/code/ai_report_generator/main.py
   app/prompts/ai_report_generator_final.md
   ```

---

## ğŸš€ å…­ã€éƒ¨ç½²æ‡‰ç”¨ï¼ˆapp/ â†’ Railwayï¼‰

### ğŸ¯ ç›®çš„ï¼š

å°‡å·²çµ„è£çš„æ‡‰ç”¨å¿«é€Ÿä¸Šç·šã€‚

### ğŸªœ æ“ä½œæ­¥é©Ÿï¼š

1. æº–å‚™ `app/api/main.py`ï¼š

   ```python
   from fastapi import FastAPI
   app = FastAPI()

   @app.get("/")
   def index():
       return {"status": "AI app running!"}
   ```

2. å»ºç«‹ `Procfile`ï¼š

   ```
   web: uvicorn app.api.main:app --host 0.0.0.0 --port $PORT
   ```

3. ä¸Šå‚³åˆ° GitHubï¼š

   ```bash
   git add .
   git commit -m "Deploy AI report generator"
   git push origin main
   ```

4. åœ¨ Railway é€£æ¥ä½ çš„ GitHub å°ˆæ¡ˆ
   â†’ é¸æ“‡ä¸»åˆ†æ”¯
   â†’ é»æ“Šã€ŒDeployã€ã€‚

âœ… éƒ¨ç½²å®Œæˆå¾Œï¼š
Railway æœƒè‡ªå‹•å•Ÿå‹•ä½ çš„ FastAPI æ‡‰ç”¨ï¼Œ
å¯æ–¼ `https://<your-app>.up.railway.app` å­˜å–ã€‚

---

## ğŸ§¾ ä¸ƒã€ç‰ˆæœ¬èˆ‡æ–‡ä»¶æ›´æ–°ï¼ˆregistry + docsï¼‰

### ğŸ¯ ç›®çš„ï¼š

è®“ç³»çµ±èƒ½è¿½è¹¤è‡ªèº«è®ŠåŒ–ã€ä¿ç•™æ¯æ¬¡æ”¹é€²çš„çŸ¥è­˜ã€‚

### ğŸªœ æ“ä½œæ­¥é©Ÿï¼š

1. æ›´æ–°æ¨¡çµ„ç™»éŒ„ï¼š

   ```json
   // registry/index.json
   {
     "modules": {
       "report_builder": { "version": "1.2.0", "description": "å ±å‘Šç”Ÿæˆæ¨¡çµ„" }
     }
   }
   ```

2. æ›´æ–°è®Šæ›´ç´€éŒ„ï¼š

   ```markdown
   ## v1.2.0 - 2025/11/07
   - æ–°å¢ report_builder æ¨¡çµ„
   - å„ªåŒ– prompt çµ„è£æµç¨‹
   ```

3. åœ¨ `docs/experiments.md` ç´€éŒ„æ¸¬è©¦çµæœï¼š

   ```markdown
   ### å¯¦é©—ç´€éŒ„
   - Prompt: write_report.md
   - æ¨¡å‹ï¼šgpt-4o-mini
   - æˆæœï¼šæ‘˜è¦çµæ§‹ç©©å®šï¼Œç”Ÿæˆé‚è¼¯ä¸€è‡´
   ```

---

## ğŸ§  å…«ã€å€‹äººé–‹ç™¼å¾ªç’°ï¼ˆæ©«å‘æµç¨‹ï¼‰

```mermaid
graph LR
A[ğŸ’¡ dev/ å¯¦é©—èˆ‡åŸå‹] --> B[ğŸ§© projects/ é–‹ç™¼èˆ‡æ¸¬è©¦]
B --> C[ğŸ§  core/ æŠ½è±¡åŒ–æ¨¡çµ„]
C --> D[ğŸ§± shared/ é€šç”¨ç´ æèˆ‡è¨­å®š]
D --> E[âš™ï¸ dev/tools/ è‡ªå‹•çµ„è£]
E --> F[ğŸš€ app/ éƒ¨ç½²ä¸Šç·š]
F --> G[ğŸ§¾ registry/ ç‰ˆæœ¬ç´€éŒ„]
G --> H[ğŸ“˜ docs/ å¯¦é©—èˆ‡æ–¹æ³•è«–æ›´æ–°]
```

---

## âœ… ä¹ã€ç¶­è­·å»ºè­°èˆ‡æœ€ä½³å¯¦è¸

| ä»»å‹™        | å»ºè­°æ–¹å¼                       | å‚™è¨»                   |
| --------- | -------------------------- | -------------------- |
| Prompt ç®¡ç† | çµ±ä¸€æ”¾ `shared/base_prompts/` | ç”¨ include èªæ³•æˆ–å·¥å…·çµ„è£    |
| æ¨¡çµ„é–‹ç™¼      | ä¸€æ¨¡çµ„ä¸€è³‡æ–™å¤¾ï¼Œå« `__init__.py`    | å¯ç›´æ¥è½‰æˆ Python package |
| æ¸¬è©¦        | æ‰€æœ‰æ¨¡çµ„èˆ‡ Prompt å¯å–®æ¸¬           | å¯ç”¨ pytest æˆ– unittest |
| ç‰ˆæœ¬æ§åˆ¶      | æ¨¡çµ„å‡ç´šå³æ›´æ–° `registry/`        | ç‰ˆæœ¬è™Ÿéµå¾ª semver         |
| æ–‡ä»¶æ’°å¯«      | æ¯æ¬¡ä¿®æ”¹çš†æ›´æ–° `docs/`            | ç•¶ä½œã€ŒçŸ¥è­˜æ—¥èªŒã€             |

---

## ğŸ§© åã€çµèª

> æ¨¡çµ„åŒ–å‰µä½œç³»çµ±æ“ä½œæ‰‹å†Š 2.0
> ä¸åªæ˜¯æŠ€è¡“æ–‡ä»¶ï¼Œè€Œæ˜¯ã€Œ**è®“æƒ³æ³•æŒçºŒé•·æˆç”¢å“çš„æ“ä½œæ¨¡æ¿**ã€ã€‚

å®ƒçš„è¨­è¨ˆé‚è¼¯æ˜¯ï¼š

* å¾å¯¦é©—é–‹å§‹ï¼Œè€Œä¸æ˜¯å¾ç³»çµ±é–‹å§‹ï¼›
* å¾å‰µä½œè€…æ€ç¶­å‡ºç™¼ï¼Œè€Œä¸æ˜¯å·¥ç¨‹å¸«æµç¨‹ï¼›
* è®“æ¯å€‹æª”æ¡ˆéƒ½æœ‰å…¶ä½ç½®ã€æ¯æ¬¡ä¿®æ”¹éƒ½æœ‰è¨˜éŒ„ã€‚

æœ€çµ‚ï¼Œä½ æœƒæ“æœ‰ä¸€å€‹ï¼š

> **èƒ½è‡ªè¡Œçµ„è£ã€èƒ½è¿½è¹¤ç‰ˆæœ¬ã€èƒ½éƒ¨ç½²ä¸Šç·šã€èƒ½å›é¡§çŸ¥è­˜** çš„ AI é–‹ç™¼ç³»çµ±ã€‚

---

```

---

æ˜¯å¦è¦æˆ‘å¹«ä½ æ¥è‘—ç”Ÿæˆ  
ğŸ“˜ **ã€Šæ“ä½œæ‰‹å†Š 2.0 â€” åœ–åƒåŒ–ç‰ˆæœ¬ã€‹**ï¼ˆé™„æ“ä½œæµç¨‹åœ– + æ¶æ§‹åœ– + æª”æ¡ˆå°ç…§è¡¨ï¼‰ï¼Ÿ  
ğŸ‘‰ è®“å®ƒæˆç‚ºä½  GitHub `/docs` è£¡çš„ä¸»å°æ•™å­¸é ï¼ˆå¯è¦–åŒ–ç‰ˆæœ¬ï¼‰ã€‚
```
